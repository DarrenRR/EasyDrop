<!DOCTYPE html>
<html lang="en">
    <head>
        <title>EasyDrop</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/styles.css"/>
        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">

         <!-- Google Maps API-->
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyAm5YUmQecbnAsYWwKqox8uVucKumvRbxs"></script>

    <script>
        var startInput = 'start_input';
    
        $(document).ready(function () {
            var autocomplete;
            autocomplete = new google.maps.places.Autocomplete((document.getElementById(startInput)), {
                types: ['geocode'],
                componentRestrictions: {
                country: "tt"
      }
            });
          
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var near_place = autocomplete.getPlace();
                var start_location = document.getElementById("start_input").value;
                document.getElementById('start_location').value = start_location;
                document.getElementById('start_latitude').value = near_place.geometry.location.lat();
                document.getElementById('start_longitude').value = near_place.geometry.location.lng();
            });
        });
    
        var destinationInput = 'destination_input';
    
        $(document).ready(function () {
            var autocomplete;
            autocomplete = new google.maps.places.Autocomplete((document.getElementById(destinationInput)), {
                types: ['geocode'],
                componentRestrictions: {
                country: "tt"
      }
            });
          
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var near_place = autocomplete.getPlace();
                console.log(autocomplete);
                var stop_location = document.getElementById("destination_input").value;
                document.getElementById('stop_location').value = stop_location;
                document.getElementById('stop_latitude').value = near_place.geometry.location.lat();
                document.getElementById('stop_longitude').value = near_place.geometry.location.lng();
            });
        });
      </script>

      <style>
          .bg-1 { 
            background-color: #39b485; /* Green */
            background-image: url("images/passengers.png");
            background-size: 80%;
            background-position: center;
            background-repeat: no-repeat;
            color: #000000;
        }
      </style>

    </head>
    <body>
            <!-- Navbar -->
            <nav class="navbar navbar-default">
                <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>                        
                    </button>
                    <a class="navbar-brand" href="index.html">EasyDrop</a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav navbar-right">
                        <li class = "regular-options" style="display: none;"><a href="Search.html">Find a Drop</a></li>
                        <li class = "regular-options" style="display: none;"><a href="ShareRide.html">Offer a Drop </a></li>
                        <li class = "logged-out"  style="display: none;"><a href="login.html">Log In</a></li>
                        <li class = "logged-out"  style="display: none;"><a href="signup.html">Sign Up</a></li>
                        <li class = "logged-in"  style="display: none;"><a href="ManageTripsandPassengers.html">Dashboard</a></li>
                        <li class = "logged-in"  style="display: none;"><a href="login.html" onclick="signOut()">Log Out</a></li>
                    </ul>
                </div>
                </div>
            </nav>
            <div class="verify" style="display: none;">
                <p>Your account isn't verified. Please<a id="verifytext" href="verify.html">verify</a>your account in order to gain full access of EasyDrop.</p>
              </div>
            <!-- First Container -->
                <div class="container-fluid bg-1 text-center"  style="display: block;">
                    <h1 id = "statement" class="margin">Share your Carpool</h1>
                    <form>

                    <div id="offerDrop">
                        <div>
                            <input type="text" type="datebox" placeholder="DD/MM/YYYY" oninput="UpdateTrip(this.value, 'dateD')" required><br>
                            <input type="text" name="time" placeholder="Start Time" id="timepicker"><br>
                            <!--<input type="time"  placeholder="Time" oninput="UpdateTrip(this.value, 'timeD')" required><br>--> 
                            <input type="text" class="form-control" id="start_input" placeholder="Starting Address"><br>
                            <input type="text" class="form-control" id="destination_input" placeholder="Destination Address"><br>
                            <input type="text" type="seatsbox" placeholder="Available Seats" oninput="UpdateTrip(this.value, 'seatsD')" required><br>
                            <input type="text" type="pricebox" placeholder="Price" oninput="UpdateTrip(this.value, 'priceD')" required><br>
                            <input type="text" type="licensebox" placeholder="Number Plate"  oninput="UpdateTrip(this.value, 'plateD')" required><br>
                            <input type="text" type="descriptionbox"  placeholder="Description of vehicle" oninput="UpdateTrip(this.value, 'descriptionD')" required><br>

                            <!-- Used to help pass Locations to .js file --> 
                            <input type="hidden" id="start_location" />
                            <input type="hidden" id="stop_location" />

                            <input type="hidden" id="start_latitude" />
                            <input type="hidden" id="start_longitude" />

                            <input type="hidden" id="stop_latitude" />
                            <input type="hidden" id="stop_longitude" />
                
                            <button class="waves-effect waves-light btn" id="driverAddBtn" type="button" onclick="addTrip()">Share Trip</button>
                            <!-- <button class="waves-effect waves-light btn" id="driverEditBtn" >Update</button>
                            <button class="waves-effect waves-light btn" id="driverDelBtn" >Delete</button> -->
                            
                                    
                        </div>
                    </div>
                </form>
            </div>

            <div class="container-fluid bg-2 text-center"  style="display: none;">
                <h3 class="margin">You do not have access to this feature.</h3>
                <p id="accessMessage"></p>
                
              </div>

            <!-- Footer -->
        <footer class="container-fluid bg-4 text-center">
            <p>EasyDrop by RMD Technologies</p> 
        </footer>
        <!-- ================================CLOUD FIRESTORE========================== -->
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-storage.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-analytics.js"></script>

        <script>
            
        </script>
        <!--Main Firebase scripts-->
        <script src="js/initializefirebase.js"></script>
        <script src="js/authentication.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="js/AddTrip.js"></script>
        <script src="js/navbar.js"></script>
            <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function(){
        $('#timepicker').timepicker({
            dropdown: true,
            scrollbar: true
        });
        });
    </script>
    </body>
</html>

